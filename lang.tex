% generated by Ott 0.24 from: lang.ott
\usepackage{ottlayout}
\usepackage{mathpartir}


\newcommand{\ottdrule}[4][]{{\displaystyle\frac{\begin{array}{l}#2\end{array}}{#3}\quad\ottdrulename{#4}}}
\newcommand{\ottusedrule}[1]{\[#1\]}
\newcommand{\ottpremise}[1]{ #1 \\}
\newenvironment{ottdefnblock}[3][]{ \framebox{\mbox{#2}} \quad #3 \\[0pt]}{}
\newenvironment{ottfundefnblock}[3][]{ \framebox{\mbox{#2}} \quad #3 \\[0pt]\begin{displaymath}\begin{array}{l}}{\end{array}\end{displaymath}}
\newcommand{\ottfunclause}[2]{ #1 \equiv #2 \\}
\newcommand{\ottnt}[1]{\mathit{#1}}
\newcommand{\ottmv}[1]{\mathit{#1}}
\newcommand{\ottkw}[1]{\mathbf{#1}}
\newcommand{\ottsym}[1]{#1}
\newcommand{\ottcom}[1]{\text{#1}}
\newcommand{\ottdrulename}[1]{\textsc{#1}}
\newcommand{\ottcomplu}[5]{\overline{#1}^{\,#2\in #3 #4 #5}}
\newcommand{\ottcompu}[3]{\overline{#1}^{\,#2<#3}}
\newcommand{\ottcomp}[2]{\overline{#1}^{\,#2}}
\newcommand{\ottgrammartabular}[1]{\begin{supertabular}{llcllllll}#1\end{supertabular}}
\newcommand{\ottmetavartabular}[1]{\begin{supertabular}{ll}#1\end{supertabular}}
\newcommand{\ottrulehead}[3]{$#1$ & & $#2$ & & & \multicolumn{2}{l}{#3}}
\newcommand{\ottprodline}[6]{& & $#1$ & $#2$ & $#3 #4$ & $#5$ & $#6$}
\newcommand{\ottfirstprodline}[6]{\ottprodline{#1}{#2}{#3}{#4}{#5}{#6}}
\newcommand{\ottlongprodline}[2]{& & $#1$ & \multicolumn{4}{l}{$#2$}}
\newcommand{\ottfirstlongprodline}[2]{\ottlongprodline{#1}{#2}}
\newcommand{\ottbindspecprodline}[6]{\ottprodline{#1}{#2}{#3}{#4}{#5}{#6}}
\newcommand{\ottprodnewline}{\\}
\newcommand{\ottinterrule}{\\[5.0mm]}
\newcommand{\ottafterlastrule}{\\}
\newcommand{\ottmetavars}{
\ottmetavartabular{
 $ \ottmv{termvar} ,\, \ottmv{x} ,\, \ottmv{f} $ &  \\
}}

\newcommand{\ottnat}{
\ottrulehead{\ottnt{nat}  ,\ \ottnt{n}  ,\ \ottnt{p}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\ottsym{0}} {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{\ottsym{1}} {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{n_{{\mathrm{1}}}}  \ottsym{+}  \ottnt{n_{{\mathrm{2}}}}} {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{\sigma \, \ottmv{x}} {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{ [\![  \ottnt{E}  ]\!]_{ \sigma } } {\textsf{M}}{}{}{}}

\newcommand{\ottstore}{
\ottrulehead{\ottnt{store}  ,\ \sigma}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\sigma  \ottsym{[}  \ottmv{x}  \ottsym{:=}  \ottnt{n}  \ottsym{]}} {\textsf{M}}{}{}{}}

\newcommand{\ottexp}{
\ottrulehead{\ottnt{exp}  ,\ \ottnt{E}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\ottmv{x}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{E_{{\mathrm{1}}}}  \ottsym{+}  \ottnt{E_{{\mathrm{2}}}}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottsym{(}  \ottnt{E}  \ottsym{)}} {\textsf{S}}{}{}{}}

\newcommand{\ottbexp}{
\ottrulehead{\ottnt{bexp}  ,\ \ottnt{B}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\ottnt{E_{{\mathrm{1}}}}  \ottsym{=}  \ottnt{E_{{\mathrm{2}}}}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{E_{{\mathrm{1}}}}  \ottsym{<}  \ottnt{E_{{\mathrm{2}}}}}{}{}{}{}}

\newcommand{\ottcmd}{
\ottrulehead{\ottnt{cmd}  ,\ \ottnt{C}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\ottkw{skip}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottmv{x}  \ottsym{=}  \ottnt{E}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottkw{assume} \, \ottnt{B}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{C_{{\mathrm{1}}}}  \ottsym{;}  \ottnt{C_{{\mathrm{2}}}}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottkw{atomic} \, \ottnt{C}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottkw{loop} \, \ottnt{C}}{}{}{}{}\ottprodnewline
\ottprodline{|}{ \mathbf{inloop}^{ \ottnt{p} }_{ \ottnt{C_{{\mathrm{2}}}} }( \ottnt{C_{{\mathrm{1}}}} ) }{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottkw{break}}{}{}{}{}\ottprodnewline
\ottprodline{|}{ \ottnt{C_{{\mathrm{1}}}}  \parallel  \ottnt{C_{{\mathrm{2}}}} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \ottnt{C_{{\mathrm{1}}}}  \oplus  \ottnt{C_{{\mathrm{2}}}} }{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottsym{(}  \ottnt{C}  \ottsym{)}} {\textsf{S}}{}{}{}}

\newcommand{\ottformula}{
\ottrulehead{\ottnt{formula}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\ottnt{judgement}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{n_{{\mathrm{1}}}}  \ottsym{=}  \ottnt{n_{{\mathrm{2}}}}} {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{n_{{\mathrm{1}}}}  \ottsym{<}  \ottnt{n_{{\mathrm{2}}}}} {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{\ottkw{True}} {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{\ottkw{False}} {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{ ( \ottnt{formula} ) } {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{formula_{{\mathrm{1}}}}  \vee  \ottnt{formula_{{\mathrm{2}}}}} {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{formula_{{\mathrm{1}}}}  \wedge  \ottnt{formula_{{\mathrm{2}}}}} {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{ [\![  \ottnt{B}  ]\!]_{ \sigma } } {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{ \textbf{aborts} \langle \ottnt{C} , \sigma , \ottnt{p} \rangle } {\textsf{M}}{}{}{}}

\newcommand{\ottterminals}{
\ottrulehead{\ottnt{terminals}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{ \vee }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \wedge }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \leq }{}{}{}{}}

\newcommand{\ottedenotXXfuns}{
\ottrulehead{\ottnt{edenot\_funs}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{ [\![  \ottnt{E}  ]\!]_{ \sigma } }{}{}{}{}\ottprodnewline
\ottprodline{|}{ [\![  \ottnt{B}  ]\!]_{ \sigma } }{}{}{}{}}

\newcommand{\ottabortXXfuns}{
\ottrulehead{\ottnt{abort\_funs}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{ \textbf{aborts} \langle \ottnt{C} , \sigma , \ottnt{p} \rangle }{}{}{}{}}

\newcommand{\ottOpSemJudg}{
\ottrulehead{\ottnt{OpSemJudg}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{ \langle  \ottnt{C}  ,  \sigma  ,  \ottnt{p}  \rangle \to \langle  \ottnt{C'}  ,  \sigma' , \ottnt{p'}  \rangle }{}{}{}{\ottcom{small step}}}

\newcommand{\ottjudgement}{
\ottrulehead{\ottnt{judgement}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\ottnt{OpSemJudg}}{}{}{}{}}

\newcommand{\ottuserXXsyntax}{
\ottrulehead{\ottnt{user\_syntax}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\ottmv{termvar}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{nat}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{store}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{exp}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{bexp}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{cmd}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{formula}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{terminals}}{}{}{}{}}

\newcommand{\ottgrammar}{\ottgrammartabular{
\ottnat\ottinterrule
\ottstore\ottinterrule
\ottexp\ottinterrule
\ottbexp\ottinterrule
\ottcmd\ottinterrule
\ottformula\ottinterrule
\ottterminals\ottinterrule
\ottedenotXXfuns\ottinterrule
\ottabortXXfuns\ottinterrule
\ottOpSemJudg\ottinterrule
\ottjudgement\ottinterrule
\ottuserXXsyntax\ottafterlastrule
}}

% defnss
% fundefns edenot_funs
% fundefn edenot

\newcommand{\ottfundefnedenot}[1]{\begin{ottfundefnblock}[#1]{$ [\![  \ottnt{E}  ]\!]_{ \sigma } $}{}
\ottfunclause{ [\![  \ottmv{x}  ]\!]_{ \sigma } }{\sigma \, \ottmv{x}}%
\ottfunclause{ [\![  \ottnt{E_{{\mathrm{1}}}}  \ottsym{+}  \ottnt{E_{{\mathrm{2}}}}  ]\!]_{ \sigma } }{ [\![  \ottnt{E_{{\mathrm{1}}}}  ]\!]_{ \sigma }   \ottsym{+}   [\![  \ottnt{E_{{\mathrm{2}}}}  ]\!]_{ \sigma } }%
\end{ottfundefnblock}}


% fundefn bdenot

\newcommand{\ottfundefnbdenot}[1]{\begin{ottfundefnblock}[#1]{$ [\![  \ottnt{B}  ]\!]_{ \sigma } $}{}
\ottfunclause{ [\![  \ottnt{E_{{\mathrm{1}}}}  \ottsym{=}  \ottnt{E_{{\mathrm{2}}}}  ]\!]_{ \sigma } }{ [\![  \ottnt{E_{{\mathrm{1}}}}  ]\!]_{ \sigma }   \ottsym{=}   [\![  \ottnt{E_{{\mathrm{2}}}}  ]\!]_{ \sigma } }%
\ottfunclause{ [\![  \ottnt{E_{{\mathrm{1}}}}  \ottsym{<}  \ottnt{E_{{\mathrm{2}}}}  ]\!]_{ \sigma } }{ [\![  \ottnt{E_{{\mathrm{1}}}}  ]\!]_{ \sigma }   \ottsym{<}   [\![  \ottnt{E_{{\mathrm{2}}}}  ]\!]_{ \sigma } }%
\end{ottfundefnblock}}


\newcommand{\ottfundefnsedenotXXfuns}{
\ottfundefnedenot{}
\ottfundefnbdenot{}}

% fundefns abort_funs
% fundefn aborts

\newcommand{\ottfundefnaborts}[1]{\begin{ottfundefnblock}[#1]{$ \textbf{aborts} \langle \ottnt{C} , \sigma , \ottnt{p} \rangle $}{}
\ottfunclause{ \textbf{aborts} \langle \ottnt{C_{{\mathrm{1}}}}  \ottsym{;}  \ottnt{C_{{\mathrm{2}}}} , \sigma , \ottnt{p} \rangle }{ \textbf{aborts} \langle \ottnt{C_{{\mathrm{1}}}} , \sigma , \ottnt{p} \rangle }%
\ottfunclause{ \textbf{aborts} \langle  \ottnt{C_{{\mathrm{1}}}}  \parallel  \ottnt{C_{{\mathrm{2}}}}  , \sigma , \ottnt{p} \rangle }{ \textbf{aborts} \langle \ottnt{C_{{\mathrm{1}}}} , \sigma , \ottnt{p} \rangle   \vee   \textbf{aborts} \langle \ottnt{C_{{\mathrm{2}}}} , \sigma , \ottnt{p} \rangle }%
\ottfunclause{ \textbf{aborts} \langle  \mathbf{inloop}^{ \ottnt{p'} }_{ \ottnt{C} }( \ottkw{skip} )  , \sigma , \ottnt{p} \rangle }{\ottnt{p'}  \ottsym{<}  \ottnt{p}}%
\ottfunclause{ \textbf{aborts} \langle \ottnt{C} , \sigma , \ottnt{p} \rangle }{\ottkw{False}}%
\ottfunclause{ \textbf{aborts} \langle \ottkw{atomic} \, \ottnt{C} , \sigma , \ottnt{p} \rangle }{ \textbf{aborts} \langle \ottnt{C} , \sigma , \ottnt{p} \rangle }%
\end{ottfundefnblock}}


\newcommand{\ottfundefnsabortXXfuns}{
\ottfundefnaborts{}}

% defns OpSemJudg
%% defn step
\newcommand{\ottdruleSassign}[1]{\ottdrule[#1]{%
}{
 \langle  \ottmv{x}  \ottsym{=}  \ottnt{E}  ,  \sigma  ,  \ottnt{p}  \rangle \to \langle  \ottkw{skip}  ,  \sigma  \ottsym{[}  \ottmv{x}  \ottsym{:=}   [\![  \ottnt{E}  ]\!]_{ \sigma }   \ottsym{]} , \ottnt{p}  \ottsym{+}  \ottsym{1}  \rangle }{%
{\ottdrulename{Sassign}}{}%
}}


\newcommand{\ottdruleSseqI}[1]{\ottdrule[#1]{%
\ottpremise{ \langle  \ottnt{C_{{\mathrm{1}}}}  ,  \sigma  ,  \ottnt{p}  \rangle \to \langle  \ottnt{C'_{{\mathrm{1}}}}  ,  \sigma' , \ottnt{p'}  \rangle }%
}{
 \langle  \ottnt{C_{{\mathrm{1}}}}  \ottsym{;}  \ottnt{C_{{\mathrm{2}}}}  ,  \sigma  ,  \ottnt{p}  \rangle \to \langle  \ottnt{C'_{{\mathrm{1}}}}  \ottsym{;}  \ottnt{C_{{\mathrm{2}}}}  ,  \sigma' , \ottnt{p'}  \rangle }{%
{\ottdrulename{SseqI}}{}%
}}


\newcommand{\ottdruleSseqII}[1]{\ottdrule[#1]{%
}{
 \langle  \ottkw{skip}  \ottsym{;}  \ottnt{C_{{\mathrm{2}}}}  ,  \sigma  ,  \ottnt{p}  \rangle \to \langle  \ottnt{C_{{\mathrm{2}}}}  ,  \sigma , \ottnt{p}  \rangle }{%
{\ottdrulename{SseqII}}{}%
}}


\newcommand{\ottdruleSassume}[1]{\ottdrule[#1]{%
\ottpremise{ [\![  \ottnt{B}  ]\!]_{ \sigma } }%
}{
 \langle  \ottkw{assume} \, \ottnt{B}  ,  \sigma  ,  \ottnt{p}  \rangle \to \langle  \ottkw{skip}  ,  \sigma , \ottnt{p}  \rangle }{%
{\ottdrulename{Sassume}}{}%
}}


\newcommand{\ottdruleSparI}[1]{\ottdrule[#1]{%
\ottpremise{ \langle  \ottnt{C_{{\mathrm{1}}}}  ,  \sigma  ,  \ottnt{p}  \rangle \to \langle  \ottnt{C'_{{\mathrm{1}}}}  ,  \sigma' , \ottnt{p'}  \rangle }%
}{
 \langle   \ottnt{C_{{\mathrm{1}}}}  \parallel  \ottnt{C_{{\mathrm{2}}}}   ,  \sigma  ,  \ottnt{p}  \rangle \to \langle   \ottnt{C'_{{\mathrm{1}}}}  \parallel  \ottnt{C_{{\mathrm{2}}}}   ,  \sigma' , \ottnt{p'}  \rangle }{%
{\ottdrulename{SparI}}{}%
}}


\newcommand{\ottdruleSparII}[1]{\ottdrule[#1]{%
\ottpremise{ \langle  \ottnt{C_{{\mathrm{2}}}}  ,  \sigma  ,  \ottnt{p}  \rangle \to \langle  \ottnt{C'_{{\mathrm{2}}}}  ,  \sigma' , \ottnt{p'}  \rangle }%
}{
 \langle   \ottnt{C_{{\mathrm{1}}}}  \parallel  \ottnt{C_{{\mathrm{2}}}}   ,  \sigma  ,  \ottnt{p}  \rangle \to \langle   \ottnt{C_{{\mathrm{1}}}}  \parallel  \ottnt{C'_{{\mathrm{2}}}}   ,  \sigma' , \ottnt{p'}  \rangle }{%
{\ottdrulename{SparII}}{}%
}}


\newcommand{\ottdruleSparIII}[1]{\ottdrule[#1]{%
}{
 \langle   \ottkw{skip}  \parallel  \ottkw{skip}   ,  \sigma  ,  \ottnt{p}  \rangle \to \langle  \ottkw{skip}  ,  \sigma , \ottnt{p}  \rangle }{%
{\ottdrulename{SparIII}}{}%
}}


\newcommand{\ottdruleSloopEnter}[1]{\ottdrule[#1]{%
}{
 \langle  \ottkw{loop} \, \ottnt{C}  ,  \sigma  ,  \ottnt{p}  \rangle \to \langle   \mathbf{inloop}^{ \ottnt{p} }_{ \ottnt{C} }( \ottnt{C} )   ,  \sigma , \ottnt{p}  \rangle }{%
{\ottdrulename{SloopEnter}}{}%
}}


\newcommand{\ottdruleSloopSeq}[1]{\ottdrule[#1]{%
\ottpremise{ \langle  \ottnt{C_{{\mathrm{1}}}}  ,  \sigma  ,  \ottnt{p}  \rangle \to \langle  \ottnt{C'_{{\mathrm{1}}}}  ,  \sigma' , \ottnt{p'}  \rangle }%
}{
 \langle   \mathbf{inloop}^{ \ottnt{p_{{\mathrm{0}}}} }_{ \ottnt{C} }( \ottnt{C_{{\mathrm{1}}}} )   ,  \sigma  ,  \ottnt{p}  \rangle \to \langle   \mathbf{inloop}^{ \ottnt{p_{{\mathrm{0}}}} }_{ \ottnt{C} }( \ottnt{C'_{{\mathrm{1}}}} )   ,  \sigma , \ottnt{p}  \rangle }{%
{\ottdrulename{SloopSeq}}{}%
}}


\newcommand{\ottdruleSloopBreakI}[1]{\ottdrule[#1]{%
}{
 \langle   \mathbf{inloop}^{ \ottnt{p_{{\mathrm{0}}}} }_{ \ottnt{C} }( \ottkw{break} )   ,  \sigma  ,  \ottnt{p}  \rangle \to \langle  \ottkw{skip}  ,  \sigma , \ottnt{p}  \ottsym{+}  \ottsym{1}  \rangle }{%
{\ottdrulename{SloopBreakI}}{}%
}}


\newcommand{\ottdruleSloopBreakII}[1]{\ottdrule[#1]{%
}{
 \langle   \mathbf{inloop}^{ \ottnt{p_{{\mathrm{0}}}} }_{ \ottnt{C} }( \ottkw{break}  \ottsym{;}  \ottnt{C_{{\mathrm{1}}}} )   ,  \sigma  ,  \ottnt{p}  \rangle \to \langle  \ottkw{skip}  ,  \sigma , \ottnt{p}  \ottsym{+}  \ottsym{1}  \rangle }{%
{\ottdrulename{SloopBreakII}}{}%
}}


\newcommand{\ottdruleSloopAssert}[1]{\ottdrule[#1]{%
\ottpremise{\ottnt{p_{{\mathrm{0}}}}  \ottsym{<}  \ottnt{p}}%
}{
 \langle   \mathbf{inloop}^{ \ottnt{p_{{\mathrm{0}}}} }_{ \ottnt{C} }( \ottkw{skip} )   ,  \sigma  ,  \ottnt{p}  \rangle \to \langle   \mathbf{inloop}^{ \ottnt{p} }_{ \ottnt{C} }( \ottnt{C} )   ,  \sigma , \ottnt{p}  \rangle }{%
{\ottdrulename{SloopAssert}}{}%
}}


\newcommand{\ottdruleSatom}[1]{\ottdrule[#1]{%
\ottpremise{ \langle  \ottnt{C}  ,  \sigma  ,  \ottnt{p}  \rangle \to \langle  \ottkw{skip}  ,  \sigma' , \ottnt{p'}  \rangle }%
}{
 \langle  \ottkw{atomic} \, \ottnt{C}  ,  \sigma  ,  \ottnt{p}  \rangle \to \langle  \ottkw{skip}  ,  \sigma' , \ottnt{p'}  \rangle }{%
{\ottdrulename{Satom}}{}%
}}


\newcommand{\ottdruleSnondetI}[1]{\ottdrule[#1]{%
}{
 \langle   \ottnt{C_{{\mathrm{1}}}}  \oplus  \ottnt{C_{{\mathrm{2}}}}   ,  \sigma  ,  \ottnt{p}  \rangle \to \langle  \ottnt{C_{{\mathrm{1}}}}  ,  \sigma , \ottnt{p}  \rangle }{%
{\ottdrulename{SnondetI}}{}%
}}


\newcommand{\ottdruleSnondetII}[1]{\ottdrule[#1]{%
}{
 \langle   \ottnt{C_{{\mathrm{1}}}}  \oplus  \ottnt{C_{{\mathrm{2}}}}   ,  \sigma  ,  \ottnt{p}  \rangle \to \langle  \ottnt{C_{{\mathrm{2}}}}  ,  \sigma , \ottnt{p}  \rangle }{%
{\ottdrulename{SnondetII}}{}%
}}

\newcommand{\ottdefnstep}[1]{\begin{ottdefnblock}[#1]{$ \langle  \ottnt{C}  ,  \sigma  ,  \ottnt{p}  \rangle \to \langle  \ottnt{C'}  ,  \sigma' , \ottnt{p'}  \rangle $}{\ottcom{small step}}
\ottusedrule{\ottdruleSassign{}}
\ottusedrule{\ottdruleSseqI{}}
\ottusedrule{\ottdruleSseqII{}}
\ottusedrule{\ottdruleSassume{}}
\ottusedrule{\ottdruleSparI{}}
\ottusedrule{\ottdruleSparII{}}
\ottusedrule{\ottdruleSparIII{}}
\ottusedrule{\ottdruleSloopEnter{}}
\ottusedrule{\ottdruleSloopSeq{}}
\ottusedrule{\ottdruleSloopBreakI{}}
\ottusedrule{\ottdruleSloopBreakII{}}
\ottusedrule{\ottdruleSloopAssert{}}
\ottusedrule{\ottdruleSatom{}}
\ottusedrule{\ottdruleSnondetI{}}
\ottusedrule{\ottdruleSnondetII{}}
\end{ottdefnblock}}


\newcommand{\ottdefnsOpSemJudg}{
\ottdefnstep{}}

\newcommand{\ottdefnss}{
\ottfundefnsedenotXXfuns
\ottfundefnsabortXXfuns
\ottdefnsOpSemJudg
}

\newcommand{\ottall}{\ottmetavars\\[0pt]
\ottgrammar\\[5.0mm]
\ottdefnss}


\renewcommand{\ottmetavartabular}[1]{\begin{supertabular}{ll}#1\end{supertabular}}
\renewcommand{\ottgrammartabular}[1]{\begin{description} #1 \end{description}}
\renewcommand{\ottrulehead}[3]{\item[$#1$ $#2$] }
\renewcommand{\ottfirstprodline}[6]{$#2$}
\renewcommand{\ottprodline}[6]{\ifthenelse{\equal{#3}{}}{ $|$~\hbox{$#2$}}{}}
\renewcommand{\ottbindspecprodline}[6]{}
\renewcommand{\ottprodnewline}{}
\renewcommand{\ottinterrule}{ \par }
\renewcommand{\ottafterlastrule}{}

%\renewenvironment{ottfundefnblock}[3][]{
%  \begin{displaymath}\begin{array}{l@{~}c@{~}l}}
%  {\end{array}\end{displaymath}}
\renewenvironment{ottfundefnblock}[3][]{
  \framebox{\mbox{#2} } \quad #3 \\[0pt]\begin{displaymath}\begin{array}{l@{~}c@{~}l}}
  {\end{array}\end{displaymath}}
\renewcommand{\ottfunclause}[2]{ #1 &\equiv& #2 \\}

%% Use Rok's package for type-setting rules

\renewcommand{\ottpremise}[1]{\premiseSTY{#1} }
\renewcommand{\ottdrule}[4][]{\druleSTY[#1]{#2}{#3}{#4} }
\ottstyledefaults{premiselayout=justify,premisenamelayout=none}

%% and Didier Remy's one for packing them up tightly.

\renewcommand{\ottusedrule}[1]{ #1 \and }
\renewenvironment{ottdefnblock}[3][]{
%  \par\noindent \framebox{\mbox{#2} } \quad #3 \\
  \begin{mathparpagebreakable}
    }
  {\end{mathparpagebreakable}\par}


